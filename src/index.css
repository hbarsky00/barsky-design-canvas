
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Crack Animation Styles */
@import './styles/crack-animations.css';

/* Image Quality Enhancement */
@layer utilities {
  .image-render-crisp-edges {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  .image-clarity-enhanced {
    image-rendering: auto;
    image-rendering: -webkit-optimize-contrast;
    backface-visibility: hidden;
    transform: translateZ(0);
  }
  
  .image-high-quality {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    filter: contrast(1.04) saturate(1.03) brightness(1.01);
    transition: filter 0.2s ease;
  }
  
  .image-high-quality:hover {
    filter: contrast(1.06) saturate(1.04) brightness(1.02);
  }
  
  .image-drop-shadow {
    box-shadow: var(--image-drop-shadow);
  }
}

/* Material Design 3.0 Design System */
:root {
  /* Material Design 3.0 Color System - Light Theme - Award-Winning Color Palette */
  
  /* Primary Colors - Deep Blue with Sophisticated Purple Undertones */
  --md-sys-color-primary: 231 92% 58%;
  --md-sys-color-on-primary: 0 0% 100%;
  --md-sys-color-primary-container: 231 100% 96%;
  --md-sys-color-on-primary-container: 231 100% 8%;
  
  /* Secondary Colors - Warm Slate with Premium Feel */
  --md-sys-color-secondary: 220 14% 32%;
  --md-sys-color-on-secondary: 0 0% 100%;
  --md-sys-color-secondary-container: 220 20% 95%;
  --md-sys-color-on-secondary-container: 220 30% 12%;
  
  /* Tertiary Colors - Energetic Purple for Accents */
  --md-sys-color-tertiary: 263 85% 67%;
  --md-sys-color-on-tertiary: 0 0% 100%;
  --md-sys-color-tertiary-container: 263 100% 95%;
  --md-sys-color-on-tertiary-container: 263 100% 12%;
  
  /* Error Colors */
  --md-sys-color-error: 0 84% 60%;
  --md-sys-color-on-error: 0 0% 100%;
  --md-sys-color-error-container: 0 100% 95%;
  --md-sys-color-on-error-container: 0 100% 9%;
  
  /* Surface Colors - Premium Glass-like Surfaces */
  --md-sys-color-surface-dim: 220 15% 88%;
  --md-sys-color-surface: 0 0% 99%;
  --md-sys-color-surface-bright: 0 0% 100%;
  --md-sys-color-surface-container-lowest: 0 0% 100%;
  --md-sys-color-surface-container-low: 220 20% 97%;
  --md-sys-color-surface-container: 220 25% 95%;
  --md-sys-color-surface-container-high: 220 30% 93%;
  --md-sys-color-surface-container-highest: 220 35% 91%;
  --md-sys-color-on-surface: 220 15% 8%;
  --md-sys-color-on-surface-variant: 220 12% 28%;
  
  /* Outline Colors - Sophisticated Borders */
  --md-sys-color-outline: 220 15% 48%;
  --md-sys-color-outline-variant: 220 20% 82%;
  
  /* Other Colors */
  --md-sys-color-inverse-surface: 0 0% 20%;
  --md-sys-color-inverse-on-surface: 0 0% 95%;
  --md-sys-color-inverse-primary: 103 100% 80%;
  --md-sys-color-scrim: 0 0% 0%;
  --md-sys-color-shadow: 0 0% 0%;
  
  /* Legacy color mappings for compatibility */
  --background: var(--md-sys-color-surface);
  --foreground: var(--md-sys-color-on-surface);
  --card: var(--md-sys-color-surface-container);
  --card-foreground: var(--md-sys-color-on-surface);
  --popover: var(--md-sys-color-surface-container);
  --popover-foreground: var(--md-sys-color-on-surface);
  --primary: var(--md-sys-color-primary);
  --primary-foreground: var(--md-sys-color-on-primary);
  --secondary: var(--md-sys-color-secondary-container);
  --secondary-foreground: var(--md-sys-color-on-secondary-container);
  --muted: var(--md-sys-color-surface-container-high);
  --muted-foreground: var(--md-sys-color-on-surface-variant);
  --accent: var(--md-sys-color-tertiary-container);
  --accent-foreground: var(--md-sys-color-on-tertiary-container);
  --destructive: var(--md-sys-color-error);
  --destructive-foreground: var(--md-sys-color-on-error);
  --border: var(--md-sys-color-outline-variant);
  --input: var(--md-sys-color-outline-variant);
  --ring: var(--md-sys-color-primary);
  
  /* Material Design 3.0 Typography Scale */
  --md-sys-typescale-display-large: 3.5625rem;
  --md-sys-typescale-display-large-line-height: 4rem;
  --md-sys-typescale-display-medium: 2.8125rem;
  --md-sys-typescale-display-medium-line-height: 3.25rem;
  --md-sys-typescale-display-small: 2.25rem;
  --md-sys-typescale-display-small-line-height: 2.75rem;
  
  --md-sys-typescale-headline-large: 2rem;
  --md-sys-typescale-headline-large-line-height: 2.5rem;
  --md-sys-typescale-headline-medium: 1.75rem;
  --md-sys-typescale-headline-medium-line-height: 2.25rem;
  --md-sys-typescale-headline-small: 1.5rem;
  --md-sys-typescale-headline-small-line-height: 2rem;
  
  --md-sys-typescale-title-large: 1.375rem;
  --md-sys-typescale-title-large-line-height: 1.75rem;
  --md-sys-typescale-title-medium: 1rem;
  --md-sys-typescale-title-medium-line-height: 1.5rem;
  --md-sys-typescale-title-small: 0.875rem;
  --md-sys-typescale-title-small-line-height: 1.25rem;
  
  --md-sys-typescale-body-large: 1rem;
  --md-sys-typescale-body-large-line-height: 1.5rem;
  --md-sys-typescale-body-medium: 0.875rem;
  --md-sys-typescale-body-medium-line-height: 1.25rem;
  --md-sys-typescale-body-small: 0.75rem;
  --md-sys-typescale-body-small-line-height: 1rem;
  
  --md-sys-typescale-label-large: 0.875rem;
  --md-sys-typescale-label-large-line-height: 1.25rem;
  --md-sys-typescale-label-medium: 0.75rem;
  --md-sys-typescale-label-medium-line-height: 1rem;
  --md-sys-typescale-label-small: 0.6875rem;
  --md-sys-typescale-label-small-line-height: 1rem;
  
  /* Material Design 3.0 Elevation - Premium Shadows */
  --md-sys-elevation-level0: none;
  --md-sys-elevation-level1: 0px 1px 3px 0px rgba(59, 130, 246, 0.08), 0px 1px 2px 0px rgba(0, 0, 0, 0.02);
  --md-sys-elevation-level2: 0px 2px 6px 0px rgba(59, 130, 246, 0.12), 0px 2px 4px 0px rgba(0, 0, 0, 0.04);
  --md-sys-elevation-level3: 0px 4px 12px 0px rgba(59, 130, 246, 0.16), 0px 4px 6px 0px rgba(0, 0, 0, 0.06);
  --md-sys-elevation-level4: 0px 8px 24px 0px rgba(59, 130, 246, 0.20), 0px 6px 12px 0px rgba(0, 0, 0, 0.08);
  --md-sys-elevation-level5: 0px 16px 48px 0px rgba(59, 130, 246, 0.24), 0px 12px 24px 0px rgba(0, 0, 0, 0.12);
  
  /* Material Design 3.0 Shape */
  --md-sys-shape-corner-none: 0px;
  --md-sys-shape-corner-extra-small: 4px;
  --md-sys-shape-corner-small: 8px;
  --md-sys-shape-corner-medium: 12px;
  --md-sys-shape-corner-large: 16px;
  --md-sys-shape-corner-extra-large: 28px;
  --md-sys-shape-corner-full: 9999px;
  
  /* Legacy radius for compatibility */
  --radius: var(--md-sys-shape-corner-medium);

  /* Chart colors - Sophisticated Data Visualization */
  --chart-1: 231 92% 58%;
  --chart-2: 263 85% 67%;
  --chart-3: 220 14% 32%;
  --chart-4: 284 100% 75%;
  --chart-5: 346 100% 68%;

  /* Award-Winning Gradient System */
  --gradient-primary: linear-gradient(135deg, hsl(231 92% 58%), hsl(263 85% 67%));
  --gradient-secondary: linear-gradient(135deg, hsl(220 14% 32%), hsl(220 20% 95%));
  --gradient-accent: linear-gradient(135deg, hsl(263 85% 67%), hsl(284 100% 75%));
  --gradient-surface: linear-gradient(180deg, hsl(0 0% 100%), hsl(220 20% 97%));
  --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.6));
  
  /* Advanced Shadow System */
  --shadow-glow: 0 0 32px hsl(231 92% 58% / 0.15);
  --shadow-glow-hover: 0 0 48px hsl(231 92% 58% / 0.25);
  --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.03);
  --shadow-medium: 0 8px 40px rgba(0, 0, 0, 0.08);
  --shadow-large: 0 16px 64px rgba(0, 0, 0, 0.12);
  
  /* Sophisticated Animation Curves */
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
  --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
  --ease-anticipate: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* Brand specific colors */
  --barsky-blue: var(--md-sys-color-primary);
  --barsky-dark: var(--md-sys-color-on-surface);
  --barsky-text: var(--md-sys-color-on-surface);
  --barsky-text-light: var(--md-sys-color-on-surface-variant);
  --barsky-bg-light: var(--md-sys-color-surface);
  --barsky-accent: var(--md-sys-color-tertiary);
  --barsky-accent-light: var(--md-sys-color-tertiary-container);

  /* Legacy 3D Effects */
  --shadow-elevation: var(--md-sys-elevation-level2);
  --shadow-elevation-hover: var(--md-sys-elevation-level4);
  --image-drop-shadow: var(--md-sys-elevation-level1);
  --perspective: 1000px;
  --transform-3d: preserve-3d;
  
  /* Section backgrounds using M3 surfaces */
  --problem-bg: var(--md-sys-color-surface-container-low);
  --key-insights-bg: var(--md-sys-color-surface-container);

  /* Mobile Safe Area Support */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);

  /* Legacy Typography for compatibility */
  --font-size-hero-h1-mobile: var(--md-sys-typescale-display-small);
  --line-height-hero-h1-mobile: var(--md-sys-typescale-display-small-line-height);
  --font-size-hero-h1-md: var(--md-sys-typescale-display-medium);
  --line-height-hero-h1-md: var(--md-sys-typescale-display-medium-line-height);
  --font-size-hero-h1-lg: var(--md-sys-typescale-display-large);
  --line-height-hero-h1-lg: var(--md-sys-typescale-display-large-line-height);
  --font-size-hero-h1-xl: var(--md-sys-typescale-display-large);
  --line-height-hero-h1-xl: var(--md-sys-typescale-display-large-line-height);
  
  --font-size-section-title-mobile: var(--md-sys-typescale-headline-medium);
  --line-height-section-title-mobile: var(--md-sys-typescale-headline-medium-line-height);
  --font-size-section-title-md: var(--md-sys-typescale-headline-large);
  --line-height-section-title-md: var(--md-sys-typescale-headline-large-line-height);
  --font-size-section-title-lg: var(--md-sys-typescale-headline-large);
  --line-height-section-title-lg: var(--md-sys-typescale-headline-large-line-height);
  
  --font-size-subsection-title-mobile: var(--md-sys-typescale-title-medium);
  --line-height-subsection-title: var(--md-sys-typescale-title-medium-line-height);
  --font-size-subsection-title-md: var(--md-sys-typescale-title-large);
  --font-size-subsection-title-lg: var(--md-sys-typescale-title-large);
  
  --font-size-eyebrow-mobile: var(--md-sys-typescale-label-small);
  --font-size-eyebrow-md: var(--md-sys-typescale-label-medium);
  --font-size-eyebrow-lg: var(--md-sys-typescale-label-large);
}

.dark {
  /* Material Design 3.0 Color System - Dark Theme */
  
  /* Primary Colors */
  --md-sys-color-primary: 103 100% 80%;
  --md-sys-color-on-primary: 0 0% 100%;
  --md-sys-color-primary-container: 103 80% 30%;
  --md-sys-color-on-primary-container: 103 100% 90%;
  
  /* Secondary Colors */
  --md-sys-color-secondary: 103 24% 80%;
  --md-sys-color-on-secondary: 103 24% 10%;
  --md-sys-color-secondary-container: 103 16% 30%;
  --md-sys-color-on-secondary-container: 103 24% 90%;
  
  /* Tertiary Colors */
  --md-sys-color-tertiary: 49 100% 80%;
  --md-sys-color-on-tertiary: 49 100% 10%;
  --md-sys-color-tertiary-container: 49 80% 30%;
  --md-sys-color-on-tertiary-container: 49 100% 90%;
  
  /* Error Colors */
  --md-sys-color-error: 0 100% 80%;
  --md-sys-color-on-error: 0 100% 9%;
  --md-sys-color-error-container: 0 84% 30%;
  --md-sys-color-on-error-container: 0 100% 95%;
  
  /* Surface Colors */
  --md-sys-color-surface-dim: 0 0% 6%;
  --md-sys-color-surface: 0 0% 10%;
  --md-sys-color-surface-bright: 0 0% 24%;
  --md-sys-color-surface-container-lowest: 0 0% 4%;
  --md-sys-color-surface-container-low: 0 0% 10%;
  --md-sys-color-surface-container: 0 0% 12%;
  --md-sys-color-surface-container-high: 0 0% 17%;
  --md-sys-color-surface-container-highest: 0 0% 22%;
  --md-sys-color-on-surface: 0 0% 90%;
  --md-sys-color-on-surface-variant: 103 8% 70%;
  
  /* Outline Colors */
  --md-sys-color-outline: 103 8% 60%;
  --md-sys-color-outline-variant: 103 12% 30%;
  
  /* Other Colors */
  --md-sys-color-inverse-surface: 0 0% 90%;
  --md-sys-color-inverse-on-surface: 0 0% 20%;
  --md-sys-color-inverse-primary: 103 80% 40%;
  --md-sys-color-scrim: 0 0% 0%;
  --md-sys-color-shadow: 0 0% 0%;

  /* Brand colors for dark mode */
  --barsky-blue: var(--md-sys-color-primary);
  --barsky-dark: var(--md-sys-color-on-surface);
  --barsky-text: var(--md-sys-color-on-surface);
  --barsky-text-light: var(--md-sys-color-on-surface-variant);
  --barsky-bg-light: var(--md-sys-color-surface);
  --barsky-accent: var(--md-sys-color-tertiary);
  --barsky-accent-light: var(--md-sys-color-tertiary-container);

  /* Legacy 3D Effects - Dark Mode */
  --shadow-elevation: var(--md-sys-elevation-level2);
  --shadow-elevation-hover: var(--md-sys-elevation-level4);
  --image-drop-shadow: var(--md-sys-elevation-level1);
}

  * {
    border-color: hsl(var(--border));
  }

  /* Scrollbar styles */
  .scroll-area {
    scrollbar-width: thin;
    scrollbar-color: #d4d4d8 transparent;
    -webkit-overflow-scrolling: touch;
  }
  
  .scroll-area::-webkit-scrollbar {
    width: 8px;
  }
  
  .scroll-area::-webkit-scrollbar-thumb {
    background: #d4d4d8;
    border-radius: 9999px;
  }
  
  .scroll-area::-webkit-scrollbar-track {
    background: transparent;
  }

  body {
  color: hsl(var(--foreground));
  background: hsl(var(--background));
  font-feature-settings: "rlig" 1, "calt" 1;
  /* Mobile optimizations */
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* Global focus style removal - Remove all focus indicators */
*, *:before, *:after {
  outline: none !important;
}

button:focus, input:focus, textarea:focus, select:focus, a:focus,
button:focus-visible, input:focus-visible, textarea:focus-visible, 
select:focus-visible, a:focus-visible,
[tabindex]:focus, [tabindex]:focus-visible,
[role="button"]:focus, [role="button"]:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  ring: none !important;
}

/* Mobile-specific utilities */
@layer utilities {
  /* Hero Utilities */
  .hero-subtitle {
    line-height: 1.65;
    max-width: 65ch;
    margin-left: auto;
    margin-right: auto;
  }
  
  @media (min-width: 1024px) {
    .hero-subtitle {
      line-height: 1.6;
    }
  }
  
/* Hero responsive containers - ensures safe margins on all devices */
.hero-container-mobile {
  padding-left: max(16px, env(safe-area-inset-left));
  padding-right: max(16px, env(safe-area-inset-right));
  padding-top: 16px;
  padding-bottom: 16px;
}

@media (min-width: 640px) {
  .hero-container-mobile {
    padding-left: max(24px, env(safe-area-inset-left));
    padding-right: max(24px, env(safe-area-inset-right));
  }
}

@media (min-width: 768px) {
  .hero-container-mobile {
    padding: 32px 40px;
  }
}

@media (min-width: 1024px) {
  .hero-container-mobile {
    padding: 40px 48px;
  }
}

/* ========================================
   CASE STUDY IMAGE SYSTEM
   High-impact, immersive image display
   ======================================== */

/* Base image container - ensures proper aspect ratios */
.case-study-image-container {
  width: 100%;
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
  position: relative;
  overflow: hidden;
  border-radius: 1rem; /* rounded-2xl */
  box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.15);
  background: var(--md-sys-color-surface-container);
}

@media (min-width: 768px) {
  .case-study-image-container {
    border-radius: 1.5rem; /* rounded-3xl on larger screens */
  }
}

/* Full-width hero images - maximum impact */
.case-study-image-hero {
  width: 100%;
  max-width: 1200px;
  aspect-ratio: 16 / 9;
  margin: 2rem auto;
}

@media (max-width: 767px) {
  .case-study-image-hero {
    aspect-ratio: 4 / 3; /* Better for mobile screens */
    margin: 1.5rem auto;
  }
}

/* Standard content images - readable but impactful */
.case-study-image-standard {
  width: 100%;
  max-width: 900px;
  margin: 1.5rem auto;
}

@media (max-width: 767px) {
  .case-study-image-standard {
    margin: 1rem auto;
  }
}

/* Small feature images - for comparison shots, details */
.case-study-image-small {
  width: 100%;
  max-width: 600px;
  margin: 1.5rem auto;
}

/* Image within container - always full-width with proper object-fit */
.case-study-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  transition: transform 0.3s ease;
}

/* Hover effect for interactivity */
.case-study-image-container:hover img {
  transform: scale(1.02);
}

/* Image captions - consistent styling */
.case-study-image-caption {
  display: block;
  text-align: center;
  font-size: 0.875rem; /* text-sm */
  color: hsl(var(--muted-foreground));
  padding: 0.75rem 1rem;
  margin-top: 0.5rem;
  line-height: 1.5;
  max-width: 65ch;
  margin-left: auto;
  margin-right: auto;
}

@media (min-width: 768px) {
  .case-study-image-caption {
    font-size: 0.9375rem; /* slightly larger on desktop */
    padding: 1rem 1.5rem;
  }
}

/* Image gallery grid - for multiple images */
.case-study-image-grid {
  display: grid;
  gap: 1rem;
  margin: 2rem auto;
  width: 100%;
  max-width: 1200px;
}

@media (min-width: 768px) {
  .case-study-image-grid {
    gap: 1.5rem;
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .case-study-image-grid {
    gap: 2rem;
  }
}

/* Horizontal scroll container for app screens */
.case-study-image-scroll {
  display: flex;
  gap: 1rem;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 1rem 0;
  margin: 2rem -1rem; /* Negative margin to allow edge-to-edge scroll */
}

.case-study-image-scroll > * {
  flex: 0 0 auto;
  scroll-snap-align: center;
  width: 280px; /* Mobile phone width */
}

@media (min-width: 768px) {
  .case-study-image-scroll {
    gap: 1.5rem;
    margin: 2rem auto;
    justify-content: center;
  }
  
  .case-study-image-scroll > * {
    width: 320px;
  }
}

/* Scrollbar styling for horizontal scroll */
.case-study-image-scroll::-webkit-scrollbar {
  height: 8px;
}

.case-study-image-scroll::-webkit-scrollbar-track {
  background: hsl(var(--md-sys-color-surface-container));
  border-radius: 4px;
}

.case-study-image-scroll::-webkit-scrollbar-thumb {
  background: hsl(var(--md-sys-color-outline-variant));
  border-radius: 4px;
}

.case-study-image-scroll::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--md-sys-color-outline));
}

/* Section spacing adjustments for better image breathing room */
.case-study-section-with-images {
  padding-top: 3rem;
  padding-bottom: 3rem;
}

@media (min-width: 768px) {
  .case-study-section-with-images {
    padding-top: 4rem;
    padding-bottom: 4rem;
  }
}

@media (min-width: 1024px) {
  .case-study-section-with-images {
    padding-top: 5rem;
    padding-bottom: 5rem;
  }
}

  @media (min-width: 640px) {
    .hero-container-mobile {
      padding-left: max(24px, env(safe-area-inset-left));
      padding-right: max(24px, env(safe-area-inset-right));
    }
  }

  @media (min-width: 768px) {
    .hero-container-mobile {
      padding: 32px 40px;
    }
  }

  @media (min-width: 1024px) {
    .hero-container-mobile {
      padding: 40px 48px;
    }
  }

  /* Hero text content stack - consistent vertical rhythm */
  .hero-text-stack {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  @media (min-width: 768px) {
    .hero-text-stack {
      gap: 20px;
    }
  }

  @media (min-width: 1024px) {
    .hero-text-stack {
      gap: 24px;
    }
  }
  
  .hero-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
    margin-top: 4px;
  }
  
  .hero-tags .badge {
    line-height: 1.65;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
  }

  @media (min-width: 768px) {
    .hero-tags {
      gap: 10px;
    }
    
    .hero-tags .badge {
      padding: 0.375rem 0.75rem;
    }
  }

  .hero-cta-wrapper {
    margin-top: 8px;
    display: flex;
    justify-content: center;
  }

  @media (min-width: 768px) {
    .hero-cta-wrapper {
      margin-top: 12px;
    }
  }
  
  .pt-safe-top {
    padding-top: var(--safe-area-inset-top);
  }
  
  .pb-safe-bottom {
    padding-bottom: var(--safe-area-inset-bottom);
  }
  
  .pl-safe-left {
    padding-left: var(--safe-area-inset-left);
  }
  
  .pr-safe-right {
    padding-right: var(--safe-area-inset-right);
  }

  /* Touch-friendly minimum sizes */
  .min-touch {
    min-width: 44px;
    min-height: 44px;
  }

  /* Mobile-first responsive text sizes */
  .text-responsive-xs {
    @apply text-xs sm:text-sm;
  }
  
  .text-responsive-sm {
    @apply text-sm sm:text-base;
  }
  
  .text-responsive-base {
    @apply text-base sm:text-lg;
  }
  
  .text-responsive-lg {
    @apply text-lg sm:text-xl lg:text-2xl;
  }
  
  .text-responsive-xl {
    @apply text-xl sm:text-2xl lg:text-3xl;
  }

  /* Mobile-optimized spacing */
  .space-mobile-friendly > * + * {
    @apply ml-3 sm:ml-4 lg:ml-6;
  }

  /* Prevent text selection on touch devices for UI elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Typography Scale Utilities */
  .text-hero-h1 {
    font-size: var(--font-size-hero-h1-mobile);
    line-height: var(--line-height-hero-h1-mobile);
    font-weight: 700;
    letter-spacing: -0.01em;
  }

  @media (min-width: 768px) {
    .text-hero-h1 {
      font-size: var(--font-size-hero-h1-md);
      line-height: var(--line-height-hero-h1-md);
    }
  }

  @media (min-width: 1024px) {
    .text-hero-h1 {
      font-size: var(--font-size-hero-h1-lg);
      line-height: var(--line-height-hero-h1-lg);
    }
  }

  @media (min-width: 1280px) {
    .text-hero-h1 {
      font-size: var(--font-size-hero-h1-xl);
      line-height: var(--line-height-hero-h1-xl);
    }
  }

  .text-section-title {
    font-size: var(--font-size-section-title-mobile) !important;
    line-height: var(--line-height-section-title-mobile) !important;
    font-weight: 700;
    letter-spacing: -0.01em;
    text-align: center;
  }

  @media (min-width: 768px) {
    .text-section-title {
      font-size: var(--font-size-section-title-md) !important;
      line-height: var(--line-height-section-title-md) !important;
    }
  }

  @media (min-width: 1024px) {
    .text-section-title {
      font-size: var(--font-size-section-title-lg) !important;
      line-height: var(--line-height-section-title-lg) !important;
    }
  }

  /* Ensure section titles inside prose keep intended scale */
  .prose h1.text-section-title,
  .prose h2.text-section-title,
  .prose h3.text-section-title {
    font-size: var(--font-size-section-title-mobile) !important;
    line-height: var(--line-height-section-title-mobile) !important;
    font-weight: 800 !important;
    letter-spacing: -0.01em;
    text-align: center;
  }

  @media (min-width: 768px) {
    .prose h1.text-section-title,
    .prose h2.text-section-title,
    .prose h3.text-section-title {
      font-size: var(--font-size-section-title-md) !important;
      line-height: var(--line-height-section-title-md) !important;
    }
  }

  @media (min-width: 1024px) {
    .prose h1.text-section-title,
    .prose h2.text-section-title,
    .prose h3.text-section-title {
      font-size: var(--font-size-section-title-lg) !important;
      line-height: var(--line-height-section-title-lg) !important;
    }
  }

  .text-subsection-title {
    font-size: var(--font-size-subsection-title-mobile);
    line-height: var(--line-height-subsection-title);
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  @media (min-width: 768px) {
    .text-subsection-title {
      font-size: var(--font-size-subsection-title-md);
    }
  }

  @media (min-width: 1024px) {
    .text-subsection-title {
      font-size: var(--font-size-subsection-title-lg);
    }
  }

  .text-eyebrow {
    font-size: var(--font-size-eyebrow-mobile);
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
  }

  @media (min-width: 768px) {
    .text-eyebrow {
      font-size: var(--font-size-eyebrow-md);
    }
  }

  @media (min-width: 1024px) {
    .text-eyebrow {
      font-size: var(--font-size-eyebrow-lg);
    }
  }

  /* Standard section spacing */
  .section-spacing {
    padding-top: 2rem;
    padding-bottom: 1.5rem;
  }

  @media (min-width: 768px) {
    .section-spacing {
      padding-top: 6rem;
      padding-bottom: 4rem;
    }
  }

  @media (min-width: 1024px) {
    .section-spacing {
      padding-top: 7rem;
      padding-bottom: 5rem;
    }
  }

  /* Header group spacing */
  .header-spacing {
    margin-bottom: 0.75rem;
  }

  @media (min-width: 768px) {
    .header-spacing {
      margin-bottom: 1rem;
    }
  }

  .content-spacing {
    margin-top: 0.75rem;
  }

  @media (min-width: 768px) {
    .content-spacing {
      margin-top: 1rem;
    }
  }

  @media (min-width: 1024px) {
  .content-spacing {
    margin-top: 1.25rem;
  }

  /* Compact spacing for sections like "More Work" */
  .compact-section-spacing {
    padding-top: 2rem;
    padding-bottom: 1.5rem;
  }

  @media (min-width: 768px) {
    .compact-section-spacing {
      padding-top: 3rem;
      padding-bottom: 2rem;
    }
  }

  @media (min-width: 1024px) {
    .compact-section-spacing {
      padding-top: 3.5rem;
      padding-bottom: 2.5rem;
    }
  }
}
}

/* Mobile viewport and safe areas */
html {
  scroll-behavior: smooth;
  overflow-x: hidden;
  overflow-y: auto;
  scroll-padding-top: var(--header-height, 72px);
}

body {
  min-height: 100vh;
  min-height: 100svh;
  min-height: 100dvh;
  overflow-x: hidden;
  overflow-y: auto;
  padding-top: max(0px, env(safe-area-inset-top));
  padding-bottom: max(0px, env(safe-area-inset-bottom));
}

/* Anchor offset for fixed header */
.scroll-offset {
  scroll-margin-top: var(--header-height, 72px);
}

/* Hero container with safe area support */
.hero-container {
  min-height: calc(100vh - var(--header-height, 64px));
  min-height: calc(100svh - var(--header-height, 64px));
  min-height: calc(100dvh - var(--header-height, 64px));
  padding-top: max(16px, env(safe-area-inset-top));
  padding-bottom: max(24px, env(safe-area-inset-bottom));
  padding-left: max(20px, env(safe-area-inset-left));
  padding-right: max(20px, env(safe-area-inset-right));
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 100%;
  overflow-x: hidden;
  gap: 12px;
}

/* Mobile typography with proper clamps */
.hero-title-mobile {
  font-size: clamp(28px, 7vw, 40px);
  line-height: 1.2;
  letter-spacing: -0.025em;
  font-weight: 500;
  font-family: var(--font-display);
  margin-bottom: 0;
}

.hero-subtitle-mobile {
  font-size: clamp(16px, 4.5vw, 20px);
  line-height: 1.65;
  margin-bottom: 0;
}


/* CTA buttons mobile */
.hero-cta-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
  width: 100%;
}

.hero-cta-container.two-column {
  grid-template-columns: 1fr 1fr;
}

.hero-cta-button {
  width: 100%;
  min-height: 48px;
}

/* Social/share icons */
.hero-social {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
}

/* Hero image/mockup */
.hero-image {
  width: 100%;
  object-fit: contain;
  padding-bottom: max(16px, env(safe-area-inset-bottom));
  margin-left: 0;
  margin-right: 0;
  transition: opacity 0.3s ease, transform 0.3s ease;
  transform: translateZ(0);
  will-change: transform, opacity;
  image-rendering: auto;
  image-rendering: -webkit-optimize-contrast;
}

@media (min-width: 768px) {
  .hero-image {
    padding-bottom: 0;
  }
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  .section-snap {
    scroll-snap-type: none;
  }
}

/* Section snap points removed for better UX */
.section-snap {
  /* Scroll snapping disabled for natural scrolling */
}

/* Alignment utilities */
.center-content {
  text-align: center;
}

.left-content {
  text-align: left;
}

/* Layout Normalization - Section Shell & Content Rails */
.section-container {
  @apply max-w-[1280px] mx-auto px-6 md:px-10;
}

.content-rail {
  @apply max-w-[72ch] mx-auto;
}

.content-rail-left {
  @apply max-w-[72ch] mx-auto text-left;
}

.content-rail-center {
  @apply max-w-[65ch] mx-auto text-center;
}

/* Impact Metrics - Primary colored bold text with display font */
.text-impact-metric {
  @apply font-display font-bold text-primary;
}

.text-impact-metric-sm {
  @apply text-xl lg:text-2xl font-display font-bold text-primary;
}

.text-impact-metric-md {
  @apply text-2xl font-display font-bold text-primary;
}

.text-impact-metric-lg {
  @apply text-3xl font-display font-bold text-primary;
}

/* Header text styles - Display font with bold weight */
.text-header-display {
  @apply font-display font-bold;
}

.text-header-display-sm {
  @apply text-xl font-display font-bold;
}

.text-header-display-md {
  @apply text-2xl font-display font-bold;
}

.text-header-display-lg {
  @apply text-3xl font-display font-bold;
}

.text-header-display-xl {
  @apply text-4xl lg:text-5xl font-display font-bold;
}

/* Button styles - Use display font for consistency with headers */
.btn-text {
  @apply font-display font-medium;
}

.btn-text-bold {
  @apply font-display font-semibold;
}

/* Navigation styles - Use display font */
.nav-text {
  @apply font-display font-medium;
}

.nav-text-bold {
  @apply font-display font-semibold;
}

/* General heading utility - for any heading regardless of size */
.heading {
  @apply font-display font-bold;
}

/* Body content - explicitly use Inter (default sans) */
.body-text {
  @apply font-sans;
}

/* Color-neutral impact metrics for custom coloring */
.text-impact-metric-neutral-sm {
  @apply text-xl lg:text-2xl font-display font-bold;
}

.text-impact-metric-neutral-md {
  @apply text-2xl font-display font-bold;
}

.text-impact-metric-neutral-lg {
  @apply text-3xl font-display font-bold;
}

.text-impact-metric-neutral-xl {
  @apply text-4xl font-display font-bold;
}

/* Responsive impact metric */
.text-impact-metric-responsive {
  @apply text-2xl md:text-3xl font-display font-bold text-primary;
}

/* Neutral impact metrics */
.text-impact-metric-neutral {
  @apply text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-display font-bold text-foreground;
}

/* All headings and display text - Space Grotesk */
.heading {
  @apply font-display font-bold;
}

.heading-semibold {
  @apply font-display font-semibold;
}

.heading-medium {
  @apply font-display font-medium;
}

/* Size-specific heading classes */
.heading-hero {
  @apply text-5xl sm:text-6xl md:text-7xl font-display font-bold;
}

.heading-section {
  @apply text-3xl sm:text-4xl lg:text-5xl font-display font-bold;
}

.heading-subsection {
  @apply text-2xl font-display font-bold;
}

.heading-card {
  @apply text-xl font-display font-bold;
}

/* Button and UI element text - Space Grotesk */
.btn-text {
  @apply font-display font-medium;
}

/* Navigation styles */
.nav-text {
  @apply font-display font-medium;
}

/* Body content default */
.body-text {
  @apply font-sans;
}

/* Section scroll margin for header offset */
#intro, #bio, #case-studies, #contact, #blog, #faq {
  scroll-margin-top: 96px;
}

/* PROJECT PAGE SPECIFIC STYLES */
/* ---- Container gutters for /projects/ ---- */
.projects-page .projects-wrap {
  max-width: 1200px;
  margin: 0 auto;
  padding-left: max(16px, env(safe-area-inset-left));   /* Minimum 16px mobile */
  padding-right: max(16px, env(safe-area-inset-right));
  padding-top: calc(var(--header-height, 64px) + 12px);
}

/* Hero sections are handled by their breakout wrapper in the layout */

@media (min-width: 640px) {   /* tablet */
  .projects-page .projects-wrap { 
    padding-left: 1rem; 
    padding-right: 1rem; 
  }   /* 16px */
}

@media (min-width: 1024px) {  /* desktop */
  .projects-page .projects-wrap { 
    padding-left: 1.5rem; 
    padding-right: 1.5rem; 
  } /* 24px */
}

/* ---- Hero sections remain untouched ---- */
.projects-page .hero,
.projects-page .hero * { 
  /* no overrides - hero sections keep their existing styling */ 
}

/* ---- All sections AFTER hero ---- */
.projects-page .cs-card {
  /* widen visually on mobile */
  margin-left: -0.5rem;
  margin-right: -0.5rem;

  /* tighter inner padding */
  padding-left: 0.75rem;
  padding-right: 0.75rem;

  background: rgba(255, 255, 255, 0.8);
  border-radius: 16px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
  backdrop-filter: blur(4px);
}

@media (min-width: 640px) {
  .projects-page .cs-card {
    margin-left: 0;
    margin-right: 0;
    padding-left: 1rem;
    padding-right: 1rem;
    border-radius: 20px;
  }
}

@media (min-width: 1024px) {
  .projects-page .cs-card {
    padding-left: 1.25rem;  /* 20px */
    padding-right: 1.25rem;
  }
}

/* Optional: tighter vertical rhythm inside cards */
.projects-page .cs-card h1,
.projects-page .cs-card h2,
.projects-page .cs-card h3 { 
  margin-bottom: 0.75rem; 
}

.projects-page .cs-card p {  
  margin-top: 0.75rem; 
}

.projects-page .cs-card .row { 
  margin-top: 1rem; 
}

@media (min-width: 640px) { 
.projects-page .cs-card .row { 
  margin-top: 1.25rem; 
} 
}

/* 3D Transform Utilities */
.transform-3d {
  transform-style: preserve-3d;
}

.perspective {
  perspective: var(--perspective);
}

.backface-hidden {
  backface-visibility: hidden;
}

/* Enhanced Shadows */
.shadow-elevation {
  box-shadow: var(--shadow-elevation);
}

.shadow-elevation-hover {
  box-shadow: var(--shadow-elevation-hover);
}

/* 3D Tilt Classes */
.tilt-hover {
  transition: transform 0.3s cubic-bezier(0.03, 0.98, 0.52, 0.99);
}

.tilt-hover:hover {
  transform: perspective(1000px) rotateX(5deg) rotateY(5deg) translateZ(10px);
}

/* Depth Layers */
.depth-1 {
  transform: translateZ(10px);
}

.depth-2 {
  transform: translateZ(20px);
}

.depth-3 {
  transform: translateZ(30px);
}

/* Glass Morphism Enhanced */
.glass-morphism {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-morphism-dark {
  background: rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* 3D Animation Keyframes */
@keyframes float3d {
  0%, 100% {
    transform: translateY(0px) rotateX(0deg) rotateY(0deg);
  }
  33% {
    transform: translateY(-10px) rotateX(2deg) rotateY(1deg);
  }
  66% {
    transform: translateY(-5px) rotateX(-1deg) rotateY(-2deg);
  }
}

@keyframes tilt3d {
  0% {
    transform: perspective(1000px) rotateX(0deg) rotateY(0deg);
  }
  25% {
    transform: perspective(1000px) rotateX(2deg) rotateY(1deg);
  }
  50% {
    transform: perspective(1000px) rotateX(0deg) rotateY(2deg);
  }
  75% {
    transform: perspective(1000px) rotateX(-1deg) rotateY(0deg);
  }
  100% {
    transform: perspective(1000px) rotateX(0deg) rotateY(0deg);
  }
}

@keyframes pulse3d {
  0%, 100% {
    transform: scale(1) translateZ(0px);
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
  }
  50% {
    transform: scale(1.05) translateZ(10px);
    filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.2));
  }
}

/* Animation Classes */
.animate-float3d {
  animation: float3d 6s ease-in-out infinite;
}

.animate-tilt3d {
  animation: tilt3d 8s ease-in-out infinite;
}

.animate-pulse3d {
  animation: pulse3d 3s ease-in-out infinite;
}

/* Hardware Acceleration */
.gpu-accelerated {
  will-change: transform, opacity;
  transform: translateZ(0);
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .animate-float3d,
  .animate-tilt3d,
  .animate-pulse3d {
    animation: none;
  }
  
  .tilt-hover:hover {
    transform: none;
  }
}

/* ============= CUSTOM CURSOR & ILLUMINATION UTILITIES ============= */

/* Simple cursor for interactive elements */
button, a, .interactive, [role="button"], input[type="submit"], input[type="button"] {
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Simple navigation hover - just color change */
.nav-clean:hover {
  color: hsl(var(--primary)) !important;
}

/* Enhanced animation styles */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes particle-glow {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.2);
  }
}

.shimmer-effect {
  position: relative;
  overflow: hidden;
}

.shimmer-effect::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transform: translateX(-100%);
  animation: shimmer 2s infinite;
}

.gradient-text {
  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
  background-size: 400% 400%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-shift 4s ease infinite;
}

.particle-glow {
  animation: particle-glow 3s ease-in-out infinite;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .cursor-circle,
  .cursor-circle-dark,
  a[href]:hover,
  [role="link"]:hover,
  .cursor-link:hover,
  button[type="button"]:not(.no-circle-cursor):hover,
  .dark a[href]:hover,
  .dark [role="link"]:hover,
  .dark .cursor-link:hover,
  .dark button[type="button"]:not(.no-circle-cursor):hover {
    cursor: pointer;
  }
  
  .shimmer-effect::after,
  .gradient-text,
  .particle-glow {
    animation: none;
  }
}
